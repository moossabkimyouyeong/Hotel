<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>HOTEL DARK PRESET</title>
    <style>
        :root { 
            --gold: #D4AF37; 
            --bg: #0F0F0F; 
            --panel: #1A1A1A;
            --success: #2ECC71; 
            --danger: #E74C3C; 
            --text: #F0F0F0;
            --text-muted: #888;
        }
        body { 
            font-family: 'Pretendard', sans-serif; 
            background: var(--bg); color: var(--text); margin: 0; padding: 0; 
            overflow-x: hidden; -webkit-tap-highlight-color: transparent;
        }
        
        header { 
            padding: 20px; background: var(--bg); position: sticky; top: 0; z-index: 100;
            border-bottom: 1px solid #222;
        }

        .title { 
            font-size: 0.8rem; font-weight: 800; color: var(--text-muted); 
            letter-spacing: 3px; text-align: center; margin-bottom: 15px; text-transform: uppercase;
        }

        /* ğŸ”˜ ë¬´ì±„ìƒ‰ í†¤ì˜ ê¹”ë”í•œ ê³„ì¢Œ ì„¹ì…˜ */
        .donation-box { 
            background: var(--panel); padding: 12px; border-radius: 10px; 
            text-align: center; margin-bottom: 20px; border: 1px solid #2A2A2A;
        }
        .donation-box .acc { font-size: 1rem; color: #FFF; font-weight: 700; letter-spacing: 0.5px; margin-bottom: 2px; }
        .donation-box .owner { font-size: 0.75rem; color: var(--text-muted); font-weight: 500; }

        .stats-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        .stat-item { background: var(--panel); padding: 12px; border-radius: 8px; text-align: center; border: 1px solid #222; }
        .stat-item small { font-size: 0.65rem; color: var(--text-muted); display: block; margin-bottom: 4px; font-weight: 700; }
        .stat-item span { font-size: 1.1rem; font-weight: 800; color: var(--gold); }

        .game-view { padding: 20px 20px 240px; }
        .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
        
        .room { 
            height: 90px; background: var(--panel); border-radius: 12px; border: 1px solid #252525;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            transition: transform 0.1s;
        }
        .room:active { transform: scale(0.98); }
        .room.occupied { border-color: #27ae60; background: #0F1A13; }
        .room.dirty { border-color: #c0392b; background: #1A0F0F; }
        .room.auto-on { border-color: #555; }
        
        .room-icon { font-size: 1.6rem; margin-bottom: 4px; filter: grayscale(0.2); }
        .room-no { font-size: 0.6rem; color: #444; font-weight: 900; }

        .bottom-console {
            position: fixed; bottom: 0; left: 0; right: 0; z-index: 200;
            background: rgba(15, 15, 15, 0.98); border-top: 1px solid #222;
            padding: 10px 0 35px; backdrop-filter: blur(10px);
        }

        .auth-line { text-align: center; margin-bottom: 15px; }
        #secret-input {
            width: 60%; background: transparent; border: none; border-bottom: 2px solid #222;
            color: #FFF; font-size: 0.85rem; text-align: center; padding: 8px; 
            outline: none; font-weight: 600;
        }
        #secret-input::placeholder { color: #333; }
        #secret-input:focus { border-bottom-color: var(--gold); }

        .nav-buttons { display: grid; grid-template-columns: repeat(5, 1fr); gap: 6px; padding: 0 15px; }
        .nav-btn { 
            background: #1A1A1A; border: 1px solid #222; border-radius: 10px; color: #666; 
            padding: 12px 0; display: flex; flex-direction: column; align-items: center; gap: 5px;
        }
        .nav-btn.primary { background: var(--gold); color: #000; border: none; }
        .nav-btn.active { background: #FFF; color: #000; border-color: #FFF; }
        .nav-btn.locked { opacity: 0.1; }
        .nav-btn small { font-size: 0.55rem; font-weight: 800; line-height: 1.2; }

        .toast { 
            position: fixed; bottom: 200px; left: 50%; transform: translateX(-50%);
            background: #FFF; color: #000; padding: 8px 20px; border-radius: 20px;
            font-size: 0.75rem; font-weight: 700; z-index: 300; opacity: 0; transition: 0.3s;
        }
    </style>
</head>
<body>

<header>
    <div class="title">Management Console</div>
    <div class="donation-box">
        <div class="acc">KBêµ­ë¯¼ 604490-74-445627</div>
        <div class="owner">ì„ì¢…í˜</div>
    </div>
    <div class="stats-grid">
        <div class="stat-item"><small>CASH</small><span id="m-val">10,000</span></div>
        <div class="stat-item"><small>LOAN</small><span id="d-val" style="color:var(--danger)">0</span></div>
    </div>
</header>

<div class="game-view">
    <div class="grid" id="grid"></div>
</div>

<div class="bottom-console">
    <div class="auth-line" id="auth-box">
        <input type="text" id="secret-input" placeholder="ENTER SYSTEM CODE" autocomplete="off" oninput="game.unlock(this.value)">
    </div>

    <div class="nav-buttons">
        <button class="nav-btn primary" onclick="game.buyRoom()"><span>ğŸ¢</span><small>ì¦ì¶•<br><b id="p-val">5,000</b></small></button>
        <button class="nav-btn" onclick="game.hireStaff()"><span>ğŸ‘¥</span><small>ê³ ìš©<br>3,000</small></button>
        <button class="nav-btn locked" id="auto-btn" onclick="game.toggleAuto()"><span>ğŸ”’</span><small>ìë™í™”<br><b id="auto-status">LOCK</b></small></button>
        <button class="nav-btn" onclick="game.takeLoan()"><span>ğŸ“‰</span><small>ëŒ€ì¶œ<br>+5ë§Œ</small></button>
        <button class="nav-btn" onclick="game.payLoan()"><span>ğŸ’°</span><small>ìƒí™˜<br>1ë§Œ</small></button>
    </div>
</div>

<div class="toast" id="toast"></div>

<script>
    const game = {
        money: 10000, debt: 0, staff: 0, rooms: [], price: 5000, isUnlocked: false, isAuto: false,

        init() {
            this.load();
            if(this.rooms.length === 0) for(let i=0; i<6; i++) this.add();
            this.update();
            setInterval(() => this.loop(), 1000);
            setInterval(() => this.save(), 5000);
        },

        add() { this.rooms.push({ state: 'empty' }); },

        save() {
            const data = {
                money: this.money, debt: this.debt, staff: this.staff,
                price: this.price, isUnlocked: this.isUnlocked, rooms: this.rooms
            };
            localStorage.setItem('hotel_dark_final', JSON.stringify(data));
        },

        load() {
            const saved = localStorage.getItem('hotel_dark_final');
            if(saved) {
                const data = JSON.parse(saved);
                Object.assign(this, data);
                if(this.isUnlocked) this.applyUnlockUI();
            }
        },

        unlock(val) {
            if(val.toLowerCase() === "moossam") {
                this.isUnlocked = true;
                this.applyUnlockUI();
                this.showToast("SYSTEM UNLOCKED");
                this.save();
            }
        },

        applyUnlockUI() {
            const box = document.getElementById('auth-box');
            if(box) box.style.display = 'none';
            const btn = document.getElementById('auto-btn');
            btn.classList.remove('locked');
            btn.querySelector('span').innerText = "ğŸ¤–";
            document.getElementById('auto-status').innerText = "OFF";
        },

        toggleAuto() {
            if(!this.isUnlocked) return;
            this.isAuto = !this.isAuto;
            const btn = document.getElementById('auto-btn');
            btn.classList.toggle('active', this.isAuto);
            document.getElementById('auto-status').innerText = this.isAuto ? "ON" : "OFF";
            this.showToast(this.isAuto ? "AUTO ON" : "AUTO OFF");
        },

        takeLoan() { this.money += 50000; this.debt += 50000; this.showToast("LOAN PROCESSED"); },
        payLoan() { if(this.money >= 10000 && this.debt > 0) { this.money -= 10000; this.debt -= 10000; this.showToast("10,000 REPAID"); }},
        buyRoom() { if(this.money >= this.price) { this.money -= this.price; this.add(); this.price = Math.floor(this.price * 1.5); this.showToast("EXPANDED"); }},
        hireStaff() { if(this.money >= 3000) { this.money -= 3000; this.staff++; this.showToast("STAFF HIRED"); }},

        showToast(msg) {
            const t = document.getElementById('toast');
            t.innerText = msg; t.style.opacity = '1';
            setTimeout(() => t.style.opacity = '0', 1000);
        },

        loop() {
            if(this.debt > 0) this.debt += Math.floor(this.debt * 0.012);
            if(this.isAuto) {
                if(this.money >= this.price) this.buyRoom();
                if(this.money >= 3000 && this.staff < 20) this.hireStaff();
            }
            this.rooms.forEach(r => {
                if(r.state === 'empty' && Math.random() < 0.12) r.state = 'occupied';
                else if(r.state === 'occupied' && Math.random() < 0.25) { this.money += 3500; r.state = 'dirty'; }
                if((this.staff > 0 || this.isAuto) && r.state === 'dirty' && Math.random() < 0.4) r.state = 'empty';
            });
            this.update();
        },

        update() {
            document.getElementById('m-val').innerText = Math.floor(this.money).toLocaleString();
            document.getElementById('d-val').innerText = Math.floor(this.debt).toLocaleString();
            document.getElementById('p-val').innerText = this.price.toLocaleString();
            const g = document.getElementById('grid'); g.innerHTML = '';
            this.rooms.forEach((r, i) => {
                const div = document.createElement('div');
                div.className = `room ${r.state} ${this.isAuto ? 'auto-on' : ''}`;
                let icon = r.state === 'empty' ? 'ğŸ›Œ' : (r.state === 'occupied' ? 'ğŸ‘¤' : 'ğŸ§¹');
                div.innerHTML = `<div class="room-icon">${icon}</div><div class="room-no">#${i+1}</div>`;
                if(r.state === 'dirty') div.onclick = () => { r.state = 'empty'; this.showToast("CLEANED"); };
                g.appendChild(div);
            });
        }
    };
    game.init();
</script>
</body>
</html>
